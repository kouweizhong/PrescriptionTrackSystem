# PrescriptionTrackSystem（处方跟踪系统）
##系统要求
处方管理系统的构建是以医师处方为中心，实时录入病人信息，开处方，生成处方，进行数据的统计，简化了传统处方信息处理的过程。本系统的重点是跟踪处方的信息数据并处理数据，处理数据时相关的数据对象有如下有以下：<br>
（1）系统跟踪每位顾客的以下信息：<br>
	顾客姓名、电话号码、出生日期、承保公司、保险号、处方历史记录<br>
（2）每位顾客的服药史将记录下列每次处方信息：<br>
	由药房给出的唯一的处方ID 号、处方开出的药物、开处方的医生姓名和电话号码、处方日期、处方终止日期、有效购药次数、配药“单位”数量（此处的“单位”可能是片、匙和毫升等———见后面关于药品的讨论）、如果有其它替代品，是否可以向顾客提供替代品。<br>
（3）对于药房存货的每种药品，系统应跟踪的如下：<br>
	药品名称，药品“单位”（片、匙和毫升等），哪些其它药品可以作为另一种这种药品的替代品，服用药品可能引起的副作用。<br>
（4）系统所支持的查询功能：<br>
    服药史，即给定顾客的所有处方历史记录—根据顾客的要求提供的报告，某种给定药品的副作用报告，随处方一起提供某种给定药品的可替换药品列表一份给定处方是否还有购药许可：即，是否还可以凭处方购药，以及处方是否已经过期。 <br>
## 内容和目标
(1)用户信息维护，实现用户信息的录入、查询、修改以及删除等功能。<br>
(2)处方信息处理，针对不同的用户记录用户的处方信息，其中处方信息中记录处方开出的药物、开处方的医生姓名和电话号码、处方日期、处方终止日期、有效购药次数、配药“单位”数量（此处的“单位”可能是片、匙和毫升等———见后面关于药品的讨论）、如果有其它替代品，是否可以向顾客提供替代品等信息，并可对该处方进行修改以及删除等操作。<br>
(3)处方历史查询，查询所有的处方信息，或者根据用户的信息模糊查询到该用户的处方信息。<br>
(4)处方药物信息处理，药方根据处方信息处理药物并确认处理。<br>
##关键技术
(1)HTML5 WebSocket API客户端与服务器端进行全双工通讯，WebSocket的出现是基于Web应用的实时性需要而产生的，它允许客户端和服务器在任意时刻互相推送消息。Web Socket是下一代客户端-服务器异步通讯的方法，它本事上任然是一个基于TCP的协议，它使用ws或wss协议，可用于任意的客户端和服务器。为了建立一个 WebSocket 连接，客户端浏览器首先要向服务器发起一个 HTTP 请求，这个请求和通常的 HTTP 请求不同，包含了一些附加头信息，其中附加头信息”Upgrade: WebSocket”(”Upgrade:WebSocket”表示这是一个特殊的 HTTP 请求，请求的目的就是要将客户端和服务器端的通讯协议从 HTTP 协议升级到 WebSocket 协议。)表明这是一个申请协议升级的 HTTP 请求，服务器端解析这些附加的头信息然后产生应答信息返回给客户端，客户端和服务器端的 WebSocket 连接就建立起来了，双方就可以通过这个连接通道自由的传递信息，并且这个连接会持续存在直到客户端或者服务器端的某一方主动的关闭连接。它的通讯方式如下：图4-4-1客户端和服务器websocket通讯。<br>
![](https://github.com/silence940109/PrescriptionTrackSystem/blob/master/systemimages/websocket.jpg)<br>
WebSocket图

